<!doctype html>
<html>

<head>
    <title>I|B</title>
    <link rel="stylesheet" href="/styles.css">
    <link href="https://fonts.googleapis.com/css?family=Lancelot" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">

</head>

<body>

    <!-- INTRO PAGE -->
    <div id='intro-page'>
        <transition name="fade" v-if="show">
            <div id='intro'>
                <div id="intro-info">
                    <p id="intro-name">IMAGE | BOARD</p>
                    <div id='intro-button-div'>
                        <button id="enter-button" v-on:click="show = !show">enter</button>
                    </div>
                </div>
            </div>
        </transition>
    </div>

    <div id="main">
        <header>
            <p id="title"> IMAGE | BOARD </p>
        </header>

        <hr id='hr-in-form'>
        <form>
            <input v-model='form.title' type="text" placeholder="title" name="title">
            <input v-model='form.description' type="text" placeholder="description" name="description">
            <input v-model='form.username' type="text" placeholder="username" name="username">
            <input type="file" accept="image/*" @change='handleFileChange'>
            <button class='upload-button' @click='uploadFile'>Upload</button>
        </form>
        <hr id='hr-in-form'>

        <!--  IMAGES AND TITLE -->
        <div class='all-images'>
            <div class="image-div" v-for='item in images' @click="toggleComponent">

                <a :href=" '#' + item.id">
                    <img :src="item.url" :id="item.id">
                    <div id="item-text">
                        <p id="image-title">{{ item.title }}</p>
                    </div>
                </a>
            </div>
        </div>

        <!-- MORE BUTTON -->
        <div id='more-button-div'>
            <button id='more-button' @click='getMoreImages' v-if='morePics'>More</button>
        </div>

        <!--orange is component, green is vue instance  -->
        <some-component :image-id='imageId' v-if='imageId' @close-component='closingTheComponent'>
        </some-component>

    </div>


    <script id="my-template" type="text/x-template">
        <div id='overlay'>
            <div id='modal'>
                <img id="img-in-modal" :src='url' @click = 'closeComponent'>
                <h1 id='text-in-modal'>{{ title }}</h1>
                <p id='text-in-modal'>description: {{ description }}</p>
                <p id='text-in-modal'>uploaded by {{ username }}</p>
                <hr id="hr-in-modal">
                <!-- COMMENT FORM -->
                <form>
                    <p>Comment
                        <input v-model="form.comment" type="text" placeholder="insert your comment" name="comment">
                    </p>
                    <p>Username
                        <input v-model="form.modalUser" type="text" placeholder="username" name="modalUser">
                    </p>
                    <button class='submit-in-modal' @click = 'insertComment'>Submit</button>
                </form>
                <div id="commentsInModal" v-for = "each in comments">
                    <p id='comment-in-modal'>{{ each.comment }} | {{ each.modaluser}}</p>
                </div>
            </div>
        </div>
    </script>

    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="/js/script.js"></script>
</body>

</html>